<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9) on Sat Dec 30 20:45:10 NZDT 2017 -->
<title>Overview (Cubano)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2017-12-30">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (Cubano)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "./";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<div class="header">
<h1 class="title">Cubano - Test Automation Framework</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">The test automation framework is a Java based tool that provides a framework for writing living documentation that can drive the system under test - whether that system runs in a browser or is a service.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/concordion/cubano/data/package-summary.html">org.concordion.cubano.data</a></td>
<td class="colLast">
<div class="block">Data handling utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/concordion/cubano/date/package-summary.html">org.concordion.cubano.date</a></td>
<td class="colLast">
<div class="block">Date handling utilities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/concordion/cubano/driver/action/package-summary.html">org.concordion.cubano.driver.action</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/concordion/cubano/driver/web/package-summary.html">org.concordion.cubano.driver.web</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><p>The test automation framework is a Java based tool that provides a framework for writing living documentation that can drive the system under test - whether that system runs in a browser or is a service.</p>
<h1>Core Third Party Components</h1>
<ul>
  <li><a href="http://concordion.org" target="_blank">Concordion</a>: open source tool for automating living documentation (aka Specification by Example, Acceptance Test Driven Development, etc)</li>
  <li><a href="http://www.seleniumhq.org/projects/webdriver" target="_blank">Selenium WebDriver</a>: an API for automating user actions on a browser</li>
  <li><a href="https://github.com/yandex-qatools/htmlelements" target="_blank">Yandex HtmlElements</a>: a framework providing easy-to-use way of interaction with web-page elements</li>
  <li><a href="http://www.slf4j.org/" target="_blank">SLF4J</a> and <a href="http://logback.qos.ch/" target="_blank">Logback</a>: logging framework</li>
  <li><a href="http://junit.org" target="_blank">Junit</a>: a simple framework to write repeatable tests, it is an instance of the xUnit architecture for unit testing frameworks</li>
  <li><a href="http://gradle.org" target="_blank">Gradle</a>: build and dependency management tool, this can be replaced with Maven if you&rsquo;re already using Maven and don&rsquo;t want two different build tools</li>
</ul>
<h1>Writing the Specifications and Tests</h1>
<p>This framework uses Concordion to produce living documentation as it gives a lot of flexibility in formatting the specification over tools like <a href="https://cucumber.io" target="_blank">Cucumber</a>.</p>
<p>There are books written on the subject of what makes a good specification so I&rsquo;m not going to attempt to cover that here, I will point you to a couple of good resources:</p>
<ul>
  <li><a href="https://books.gojko.net/specification-by-example" target="_blank">Specification by Example: How Successful Teams Deliver the Right Software by Gojko Adzic</a> - the bible for Specification by Example</li>
  <li>
  <a href="http://concordion.org/technique/java/markdown/" target="_blank">Concordion's Hints and Tips</a></li>
</ul>
<p>When developing the test suite there are a few goals we want to achieve:</p>
<ul>
  <li>Readable: tests should be easily understood and allow for the fact that it will have different audiences with different needs: some just want an overview of what the system does, others will want a more technical understanding and others need to know exactly what the test did to diagnose issues</li>
  <li>Robust: a screen change in the application under test should not mean the test suite has to be changed in multiple places</li>
</ul>
<p>To meet these goals there are a few patterns that we will need to use, these have been documented below. The patterns all follow a theme, and that theme is <em>abstraction</em>.</p>
<h2>Specification</h2>
<p>Concordion supports writing a specification in both <a href="http://concordion.org/instrumenting/java/html/" target="_blank">HTML</a> and <a href="http://concordion.org/instrumenting/java/markdown/" target="_blank">Markdown</a>. I recommend markdown as it is much quicker to write than html and non developers generally will pick it up quicker.</p>
<p>Avoid writing tests that read like scripts and don&rsquo;t get to involved in the implementation details of the system under test. These lead to specifications that require changing as the system under test is changed. </p>
<p>Avoid copying code into tests, eg if asserting that an error is displayed just assert that the element is visible rather checking the contents of the message as this may change at any time leading to brittle tests - unless the content of the message is important and worth validating.</p>
<p>Aim for a level of abstraction away from the implementation of the system under test.</p>
<h2>Test</h2>
<p>Concordion runs on top of JUnit but you&rsquo;ll find that your test &lsquo;fixtures&rsquo; (the class your specification uses) don&rsquo;t look anything like a standard JUnit test suite. </p>
<p>The code in here should not contain any system implementation details and provides another level of abstraction.</p>
<h2>Driver</h2>
<p>The driver is the bit that talks to the system under test. This could be a PageObject for a Web Application or a class to call the Web Services the system under test exposes. It could also be wrapper around the database or email system.</p>
<p>The objective behind these classes is to group related action is once place so that if the system under test changes then there is only place to fix and test code to reflect that change. </p>
<h2>Workflow</h2>
<p>Often there are repeated actions that the tests perform, such as logging into an application. These can get abstracted out into a workflow class to avoid repeating the same sequence of actions in all your tests. </p>
<h1>Automating Web Applications</h1>
<p>This framework uses Selenium WebDriver and recommends abstracting the specifics of system under test away from the test using PageObjects. </p>
<p>These patterns are widely written about and there are many resources available on the internet. For developers and testers new to test automation I highly recommend looking at these two resources from Dave Haeffner:</p>
<ol>
  <li><a href="https://seleniumguidebook.com" target="_blank">The Selenium Guidebook</a>: A guidebook into all things selenium including a guide to testers on what java they will need to learn</li>
  <li><a href="http://elementalselenium.com" target="_blank">Elemental Selenium</a>: A weekly newsletter with different tips</li>
</ol>
<p>While there are other patterns and approaches to test automation, the following patterns are those I&rsquo;ve found to be most useful and can be developed with the minimum amount of effort and skill level.</p>
<h2>Page Object Pattern</h2>
<p>The <a href="http://code.google.com/p/selenium/wiki/PageObjects" target="_blank">Page Object Pattern</a> is a pattern that abstracts a web page&rsquo;s UI into a reusable class. In addition to UI, functionality of the page is also described in this class. This provides a bridge between page and test.</p>
<p>The idea is to create a level of abstraction to separate the tests from the system under test, and to provide a simple interface to the elements on the page. Here are the main advantages of Page Object Pattern using:</p>
<ul>
  <li>Centralised UI coupling - one place to make changes around the UI</li>
  <li>Simple and clear tests (a readable DSL)</li>
  <li>Code reuse</li>
  <li>Easy creation of new tests</li>
</ul>
<p>Further Reading: <a href="http://martinfowler.com/bliki/PageObject.html" target="_blank">martinfowler.com/bliki/PageObject.html</a></p>
<p><em>Example of a login page object:</em></p>
<pre><code class="java">        public class LoginPage extends PageObject&lt;LoginPage&gt;  {
                // @FindBy not required as unannotated WebElement will default 
                // to matching the field name against id and name attributes 
                WebElement username;
                WebElement password;
                
                 @FindBy(id = "log_in")
                WebElement loginButton;
        
                public BpmLoginPage(TestDriveable test) {
                        super(test);
                }
        
                 @Override
                protected ExpectedCondition&lt;?&gt; pageIsLoaded(Object... params) {
                        return ExpectedConditions.visibilityOf(loginButton);
                }
        
                public HomePage loginAs(User user) {
                        if (user != null){
                                this.username.sendKeys(user.getUsername());
                                this.password.sendKeys(user.getPassword());
                        }
                        
                        return navigateUsing(loginButton, HomePage.class);
                }
        }
</code></pre>
<h2>Page Component Pattern</h2>
<p>With single page applications and more advanced web applications with complex web controls the standard page object pattern can struggle. As the test suite grows we may need to introduce other techniques to keep it maintainable and this is where the page component pattern fits in.</p>
<p>Page Components are classes that represent sections (header, footer, navigation bar), or complex controls, they are just like page objects&hellip; but littler.</p>
<p>We&rsquo;ve included the open source project &lsquo;<a href="https://github.com/yandex-qatools/htmlelements" target="_blank">Yandex HtmlElements</a>&rsquo; that makes creating and using these components in a page object as simple as using any standard web element.</p>
<p><em>Example of a simple component that would be used in place of the standard WebElement for a Dojo based WebApplication:</em> </p>
<pre><code class="no-highlight">public class DijitWebElement extends HtmlElement {
     @FindBy(xpath = ".//input[contains(@class, 'dijitInputInner')]")
    WebElement input;

     @Override
    public String getText() {
       return input.getAttribute(&quot;value&quot;);
    }

     @Override
    public void sendKeys(CharSequence... charSequences) {
       input.sendKeys(charSequences);
    }
}
</code></pre>
<h2>Page Factory Pattern</h2>
<p>In order to support the PageObject pattern, WebDriver&rsquo;s support library contains a factory class where we use the annotation @FindBy for making the WebElement object to know to which element it belongs to on web page. By using this pattern we need not to write the code for finding each and every Web Element.</p>
<p>This functionality is built into the framework, the only requirement is that you page objects inherit off BasePageObject - although I recommend you have an additional layer called PageObject so you can put any application specific custom functionality in this layer. </p>
<h2>Fluent Pattern</h2>
<p>The idea behind a Fluent interface is that one can apply multiple properties to an object by connecting them with dots, without having to re-specify the object each time.</p>
<p>This applies to all reusable objects, not just page objects and probably should be highlighted earlier but for developers and testers new to this approach need to understand the above patterns first.</p>
<p><em>Example of a test calling page objects implementing the fluent pattern:</em></p>
<pre><code class="no-highlight"> @Test
public void newLodgementPopulatesSummaryPage() {
    SummaryPage summaryPage = LoginPage
       .visit(driver)
       .fillDefaultUser()
       .login()

       .fillNewLodgementFields(data)
       .clickNextButton()

       .fillDeclaration(data);

    assertThat(&quot;Summary Page is populated correctly&quot;, summaryPage.checkData(data),  is(&quot;&quot;));
}   
</code></pre>
<h2>Beyond The Page Object Pattern</h2>
<p>I haven&rsquo;t used it, but I keep coming across the Screenplay Pattern (formerly known as the <a href="http://www.slideshare.net/RiverGlide/a-journey-beyond-the-page-object-pattern"  target="_blank">Journey Pattern</a>). </p>
<p>Further Reading:</p>
<ul>
  <li><a href="https://ideas.riverglide.com/page-objects-refactored-12ec3541990#.cvqm92cpv">https://ideas.riverglide.com/page-objects-refactored-12ec3541990#.cvqm92cpv</a></li>
  <li><a href="https://fasterchaos.svbtle.com/journey-pattern">https://fasterchaos.svbtle.com/journey-pattern</a></li>
  <li><a href="https://confengine.com/selenium-conf-2016/proposal/2475/the-trouble-with-page-objects-things-you-always-knew-were-wrong-but-couldnt-explain-why">https://confengine.com/selenium-conf-2016/proposal/2475/the-trouble-with-page-objects-things-you-always-knew-were-wrong-but-couldnt-explain-why</a></li>
</ul>
<h1>Automating Services (REST / SOAP / etc)</h1>
<h2>REST</h2>
<p>This framework includes <code>HttpEasy</code>, a fluent wrapper built around HttpUrlConnection that can easily send and receive REST messages.</p>
<h2>SOAP</h2>
<p>This framework includes <code>HttpEasy</code>, a fluent wrapper built around HttpUrlConnection that can easily send and receive SOAP messages - if you have the soap message in an xml document. </p>
<p>Alternatives:</p>
<ul>
  <li>wsimport</li>
  <li>SOAP with Attachments API for Java (SAAJ)</li>
  <li>Java API for XML Web Services (JAX-WS)</li>
  <li>Apache Camel</li>
</ul>
<h2>Other</h2>
<p>You could use Apache Camel to do it in a standardised way. Camel will help you to: * Consume data from any source/format * Process this data * Output data to any source/format</p>
<p>Apache Camel is developed with <a href="https://en.wikipedia.org/wiki/Enterprise_application_integration"  target="_blank">Enterprise Integration Patterns</a>.</p>
<p>There are some <a href="http://tools.jboss.org/features/apachecamel.html" target="_blank">eclipse plugins</a> that offer drag and drop support for building and testing.</p>
<h1>Automating Database Requests</h1>
<p>There are a range of options:</p>
<p><strong>Low Level:</strong> * JDBC: will meet your needs but needs some work to get going</p>
<p><strong>Lightweight:</strong> </p>
<p>My personal preference would be to use either of these libraries for the flexibility they add with named parameter support and POJO mapping. They get you up and running immediately and are simpler than JDBC.</p>
<ul>
  <li><a href="http://zsoltherpai.github.io/fluent-jdbc/" target="_blank">Fluent JDBC</a>: is a java library for operating with SQL queries conveniently</li>
  <li><a href="http://jdbi.org/" target="_blank">JDBI</a>: a SQL convenience library for Java</li>
</ul>
<p><strong>Other:</strong> Generally a full ORM package such as Hibernate or JPA will be overkill for your needs. <a href="http://www.jooq.org/" target="_blank">jOOQ</a> looks like an interesting alternative but is still overkill for most testing requirements in my opinion. </p>
<h1>Framework</h1>
<h2>Configuration Settings</h2>
<p>The framework comes with a Config class which scans config.properties for the properties the framework exposes. For applications specific properties create an AppConfig class that extends off config and expose these via that class. </p>
<p>The tool allows properties to be overridden in certain cases so will look up a property by prepending the values below in the order specified until a value is found: 1. <username> 1. <environment> 1. &lsquo;default&rsquo; (actually has no prefix)</p>
<h2>General Settings</h2>
<table>
  <thead>
    <tr>
      <th align="left">Setting </th>
      <th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="left">environment </td>
      <td align="left">Specifies which environment to use get application specific properties for.<br/>NOTE: First looks to see if the system property &lsquo;environment&rsquo; has been set before looking through</td>
    </tr>
    <tr>
      <td align="left">this configuration file for a value. </td>
    </tr>
    <tr>
      <td align="left" colspan="2"><strong>WebDriver</strong> </td>
    </tr>
    <tr>
      <td align="left">webdriver.browser </td>
      <td align="left">browser to test against<br/>local: FireFox, Chrome, IE</br>remote: as above but add browser version, see the BrowserStack class for list of supported browsers/devices </td>
    </tr>
    <tr>
      <td align="left">webdriver.defaultTimeout </td>
      <td align="left">default timeout value to use on element look ups </td>
    </tr>
    <tr>
      <td align="left">webdriver.browserSize </td>
      <td align="left">specify a custom window size for browser, if not specified is maximised </td>
    </tr>
    <tr>
      <td align="left">webdriver.&lt;browser&gt;.exe </td>
      <td align="left">location of browser, eg: %USERPROFILE%/Documents/Mozilla FireFox Portable/FirefoxPortable.exe </td>
    </tr>
    <tr>
      <td align="left">webdriver.&lt;browser&gt;.activatePlugins </td>
      <td align="left">If value is &lsquo;true&rsquo; will add FireBug and FirePath plugins (only supported for FireFox currently)<br/>WARNING: do not activate this by default - it should not be enabled on CI server as it is only for use by the test developers</br>To update plugins goto below locations and download to libs project folder:<ul><li><a href="https://addons.mozilla.org/en-US/firefox/addon/firebug" target="_blank">Firebug</a></li><li><a href="https://addons.mozilla.org/en-US/firefox/addon/firepath" target="_blank">FirePath</a></li></ul> </td>
    </tr>
    <tr>
      <td align="left">webdriver.timeouts.implicitlywait </td>
      <td align="left">If choosing to use implicit waits and not use implicit waits then consider using @timeout provided by Yandex HtmlElements. Setting this value will set a global default wait period on all WebElements. (defaults to zero) which can be overridden by the @timeout annotation.<br/>WARNING: Do not mix with Selenium WebDriver&rsquo;s implicit or explicit waits as the timeout behaviour becomes unpredictable. </td>
    </tr>
  </tbody>
</table>
<h2>HttpEasy</h2>
<p><code>HttpEasy</code>: provides a fluent style wrapper around HttpURLConnection. It can:</p>
<ul>
  <li>handle most HTTP methods (GET, POST, HEAD, etc)</li>
  <li>upload and download files</li>
  <li>perform REST and SOAP requests</li>
  <li>handle corporate proxies</li>
</ul>
<h2>ActionWait</h2>
<p><code>org.concordion.cubano.config.ActionWait</code>: Similar to Selenium&rsquo;s <code>FluentWait</code> implementation but designed for long running tasks such as querying a database until some data appears and unlike FluentWait it handles exceptions other than RuntimeExceptions.</p>
<h2>ActionTimer</h2>
<p><code>org.concordion.cubano.config.ActionTimer</code>: a simple utility for logging duration of a task</p>
<h2>Exception Handling</h2>
<p>As a general rule of thumb - don&rsquo;t!</p>
<p>The framework will catch and log all exceptions, so only catch an exception if you need to perform an special action in the event an exception is thrown.</p>
<h2>Logging</h2>
<p>The framework uses the <a href="https://github.com/concordion/concordion-logback-extension" target="_blank">Concordion Logging extension</a> to keep a separate log per test and a link to the log is added to the bottom right of the page. </p>
<p>Actual implementation is a combination of <a href="http://www.slf4j.org/" target="_blank">SLF4J</a> and <a href="http://logback.qos.ch/" target="_blank">Logback</a>. </p>
<pre><code class="no-highlight">import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public abstract class YourClass {
    private static final Logger logger = LoggerFactory.getLogger(YourClass.class);

    ...
}
</code></pre>
<p><em>Do not use System.out.println() or java.util.logging.</em></p>
<h3>Log level usage:</h3>
<ul>
  <li>Exception: are automatically caught and logged so you do not need to explicitly handle those</li>
  <li>Warning: use as needed</li>
  <li>Info: should only be used for very high level concepts so that they don&rsquo;t show up on the Jenkins console, I try to keep that to a minimum</li>
  <li>Debug: should use for test steps eg going to a page</li>
  <li>Trace: should use for finer level eg filling field on a page</li>
</ul>
<h2>Storyboard</h2>
<p>The framework uses the <a href="https://github.com/concordion/concordion-storyboard-extension" target="_blank">Concordion Storyboard extension</a> to record the steps taken to perform the test, such as screenshots and soap requests and response data. </p>
<p>This serves several purposes: * It is a nice addition to the documentation * It is a fantastic debugging tool</p>
<p>If you use the navigateUsing() method in your page objects when an element is about to be clicked that performs a page navigation then screenshots will be added to the storyboard automatically, eg <code>navigateUsing(loginButton)</code>. This has the added advantage that way if any actions have been performed on the screen (eg data entered) then those details are available in the screenshots. </p>
<h2>HtmlElement</h2>
<p>The framework includes <a href="https://github.com/yandex-qatools/htmlelements" target="_blank">Yandex HtmlElements</a> as means of providing easy-to-use way of breaking complex web pages into page components that also works seamlessly with the page factory.</p>
<p>We also provide a couple of interfaces that your component can implement that allow it to work with the framework more easily:</p>
<ul>
  <li><code>WebDriverAware</code>: will supply the WebDriver to the component</li>
  <li><code>PageObjectAware</code>: will supply page object the component is on to the component</li>
</ul>
<h1>Guidelines</h1>
<p>These are general recommendations rather than hard and fast rules.</p>
<h2>Coding Standards</h2>
<p>Treat test code as a firsts class citizen - it needs the same level of code quality as your application code otherwise tests will become unmaintainable.</p>
<h2>Configuration</h2>
<p>Tests must be environment independent in that they must be able run in any environment (with the possible exception of production) by only changing the URL the tests are running against. Plan for this by: * have a configuration file for environment settings * having tests validate require data exists and set it up if its missing * DO NOT have tests use manually setup data - it won&rsquo;t exist in the next environment</p>
<h2>Run Tests in Parallel</h2>
<p>Eventually the test suite is going to take too long to run, and tests will need to run in parallel. I suggest we should start out doing this straight away so any issues are caught early - it can take a very long time to refactor existing tests if you do this down the track. This will require Selenium Grid.</p>
<h2>Fail Fast</h2>
<p>If something fails, it&rsquo;s usually a good idea to fail fast and exit the specific test immediately rather than allow the test to muddle along.</p>
<h2>Test Inheritance</h2>
<p>Tests inheriting from or calling other test should be kept to a minimum, in my experience this leads to hard to understand tests and a fragile test suite that is not easily modified. </p>
<h2>Asserts</h2>
<p>Asserts belong in the specification and not the tests.</p>
<h2>What to Test</h2>
<p>Don&rsquo;t try to automate everything, there needs to be a return on investment. If it&rsquo;s going to take too long to develop maybe it should remain a manual step. Functional tests are one component in the stack of: unit, functional, exploratory (manual), and performance testing.</p>
<p>Test pyramid <a href ="http://martinfowler.com/bliki/TestPyramid.html" target="_blank"><a href="http://martinfowler.com/bliki/TestPyramid.html">http://martinfowler.com/bliki/TestPyramid.html</a></a></p>
<h2>Exceptions vs Failures</h2>
<p>An exception should prevent running any further tests in the spec, a failure will allow the rest of the spec to complete. In Concordion this is implemented by the @FailFast annotation.</p>
<h1>How To&hellip;</h1>
<h2>Choose your browser</h2>
<p>For developing tests, use whatever browser works for you&hellip; or go with FireFox. It is the industry standard for developing automated test suites in WebDriver and Selenium WebDriver comes with support for FireFox out of the box. Firefox also has a couple of great plugins (FireBug and FirePath) that make finding and testing element locators a breeze. </p>
<p>For running tests in your CI server then this will depend on the project. Are you developing in house for a specific browser and version? Is it a public web application running on multiple browsers and devices? This framework can run either local desktop browsers with support out of the box for Firefox, Chrome and Internet Explorer, or on a remote Selenium Grid and supports BrowserStack or SauceLabs.</p>
<h2>Create a PageObject</h2>
<p>When starting with a new page you&rsquo;re going to want to create a page object as your first step. </p>
<p>Navigate to the page and use a combination of FireBug and FirePath Firefox plugins (or use the inbuilt Developer Tools) to find the locaters for the WebElements you wish to use. This can be rather tedious on a page with lots of elements but there is not a lot of options:</p>
<ol>
  <li>Right click on an element and select &lsquo;Inspect Element&rsquo;</li>
  <li>On highlighted html in FireBug right click and select &lsquo;Copy Unique Selector&rsquo;</li>
  <li>Use this value in your PageObject</li>
  <li>Use FirePath to validate your CSS selector</li>
</ol>
<p>Other optsions: * Use the test suit to navigate to the page you&rsquo;re after.<br/>* Develop a page object generator using WebDriver to parse the page and generate an initial at a page object.</p>
<h2>Use a selector for page elements</h2>
<p>Generally the preferred method of finding elements on a page is by their Id, if that&rsquo;s not available then use a CSS selector and finally XPath if all else fails.</p>
<p>If using CSS / XPath don&rsquo;t specify parent controls if it can be helped, this has the following benefits:</p>
<ul>
  <li>Less brittle - the page object should withstand some page refactoring without breaking</li>
  <li>Readability</li>
</ul>
<p>If the id / class name that you are selecting on is not unique then put the minimum number of parents that you can. Examples of CSS selectors can be found here: </p>
<ul>
  <li><a href="http://www.w3schools.com/cssref/css_selectors.asp">http://www.w3schools.com/cssref/css_selectors.asp</a></li>
  <li><a href="http://www.guru99.com/using-contains-sbiling-ancestor-to-find-element-in-selenium.html">http://www.guru99.com/using-contains-sbiling-ancestor-to-find-element-in-selenium.html</a></li>
</ul>
<p>It&rsquo;s worth considering wrapping the complex web controls or section of pages that are repeated across other pages as page components. </p>
<h2>Wait for a page element</h2>
<p><em>NEVER</em> use thread.sleep(). Ever!</p>
<p><em>DO NOT</em> use WebDrivers implicit wait feature - it&rsquo;s too broad reaching for our needs and doesn&rsquo;t play well with explicit waits.</p>
<p><em>DO</em> use WebDriveWait, FluentWait </p>
<p><em>DO</em> use @timeout field annotation:</p>
<ul>
  <li>this performs an implicit wait on any element it&rsquo;s applied to</li>
  <li>don&rsquo;t apply it to an element that you are also performing and explicit wait on</li>
</ul>
<h2>Wait for anything else</h2>
<p><em>NEVER</em> use thread.sleep(). Ever!</p>
<p>Use the frameworks built in <code>org.concordion.cubano.config.ActionWait</code> utility.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" src="./highlight.pack.js"></script>
<script type="text/javascript"><!--
hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
